{% extends 'base.html' %}

{% block active_link_messages %}active-link{% endblock %}

{% block archived_messages %}
    <li><a href="{{ url_for('view_archived') }}" class="white-text active-link">View Archived Messages</a></li>
    <div class="divider"></div>
{% endblock %}

{% block content %}
<div class="row card-message">
    <a href="{{ url_for('get_messages') }}" class="col s6 offset-s3 btn hide-on-med-and-up view-archived">View Unarchived</a>
    {% for archive in archived %}
        <div class="col s12">
            <div class="card horizontal">
                <div class="message-image">
                    <img src="{{ url_for('get_profile_pic', filename=archive.from_user_image) }}" class="circle">
                </div>
                <div class="card-stacked">
                    <div class="card-content">
                        <p>{{ archive.message_list[0]['message'] }}</p>
                    </div>
                    <div class="card-action right-align">
                        <a href="{{ url_for('view_message', message_id=archive._id) }}" class="btn view-button">Reply</a>
                        <a href="{{ url_for('unarchive_message', archive_id=archive._id) }}" class="btn view-button hide-on-small-only">Unarchive</a>
                        <a href="{{ url_for('delete_message', archive_id=archive._id) }}" class="btn">Delete</a>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}